<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-specification/DecentralisedAccessControl" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.0">
<title data-rh="true">Decentralised Access Control | UN Transparency Protocol</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://uncefact.github.io/spec-untp/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://uncefact.github.io/spec-untp/img/social-card.png"><meta data-rh="true" property="og:url" content="https://uncefact.github.io/spec-untp/docs/specification/DecentralisedAccessControl"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Decentralised Access Control | UN Transparency Protocol"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/spec-untp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://uncefact.github.io/spec-untp/docs/specification/DecentralisedAccessControl"><link data-rh="true" rel="alternate" href="https://uncefact.github.io/spec-untp/docs/specification/DecentralisedAccessControl" hreflang="en"><link data-rh="true" rel="alternate" href="https://uncefact.github.io/spec-untp/docs/specification/DecentralisedAccessControl" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9NBG7HW734"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9NBG7HW734",{anonymize_ip:!0})</script><link rel="stylesheet" href="/spec-untp/assets/css/styles.a8f1e8bc.css">
<script src="/spec-untp/assets/js/runtime~main.a4e05478.js" defer="defer"></script>
<script src="/spec-untp/assets/js/main.dd3ef62e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/spec-untp/"><div class="navbar__logo"><img src="/spec-untp/img/logo.svg" alt="United Nations Transparency Protocol" class="themedComponent_siVc themedComponent--light_hHel"><img src="/spec-untp/img/logo.svg" alt="United Nations Transparency Protocol" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">TP</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/spec-untp/docs/about">About the UNTP</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/spec-untp/docs/specification">The specification</a><a class="navbar__item navbar__link" href="/spec-untp/docs/tools-and-support">Tools and support</a><a class="navbar__item navbar__link" href="/spec-untp/docs/extensions">Extensions</a><a class="navbar__item navbar__link" href="/spec-untp/docs/implementations">Implementations</a><a href="https://app.slack.com/client/T03KNUD7LHZ/C05R8DD2AKZ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-slack-link"><svg class="icon icon-slack"><use xlink:href="#slack"></use></svg><span class="menu-item-name">Slack</span></a><a href="https://groups.google.com/g/transparency-uncefact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-mailing-list-link"><svg class="icon"><use xlink:href="#mail"></use></svg><span class="menu-item-name">Mailing List</span></a><a href="https://github.com/uncefact/spec-untp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link"><svg class="icon"><use xlink:href="#github"></use></svg><span class="menu-item-name">Github</span></a><div class="navbarSearchContainer_bzqh"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/spec-untp/docs/about/">About the UNTP</a><button aria-label="Expand sidebar category &#x27;About the UNTP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/spec-untp/docs/business-case/">Business Case</a><button aria-label="Expand sidebar category &#x27;Business Case&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/spec-untp/docs/specification/">Specification</a><button aria-label="Collapse sidebar category &#x27;Specification&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/Architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/VerifiableCredentials">Verifiable Credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/DigitalProductPassport">Digital Product Passport</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/ConformityCredential">Conformity Credential</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/DigitalTraceabilityEvents">Digital Traceability Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/DigitalFacilityRecord">Digital Facility Profile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/IdentityResolver">Identity Resolver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/DigitalIdentityAnchor">Digital Identity Anchor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/spec-untp/docs/specification/DecentralisedAccessControl">Decentralised Access Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spec-untp/docs/specification/SustainabilityVocabularyCatalog">Sustainability Vocabulary Catalog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/spec-untp/docs/design-patterns/">Best Practices</a><button aria-label="Expand sidebar category &#x27;Best Practices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/spec-untp/docs/tools-and-support/">Implementation Guidance</a><button aria-label="Expand sidebar category &#x27;Implementation Guidance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/spec-untp/docs/extensions/">Extensions Register</a><button aria-label="Expand sidebar category &#x27;Extensions Register&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/spec-untp/docs/implementations/">Implementations Register</a><button aria-label="Expand sidebar category &#x27;Implementations Register&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/spec-untp/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/spec-untp/docs/specification/"><span itemprop="name">Specification</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Decentralised Access Control</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Decentralised Access Control</h1></header><div class="theme-admonition theme-admonition-info admonition_WCGJ alert alert--info"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_pbrs"><p>Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>There is a balance between the demands of transparency (more supply chain visibility means it&#x27;s harder to hide green-washing) and confidentiality (share too much data and you risk exposing commercial secrets). A key UNTP principle is that every supply chain actor should be able to choose their own balance between transparency and confidentiality. To achieve this, UNTP defines data confidentiality patterns with different degrees of data protection so that they can be appropriately combined to meet the confidentiality goals of each party.</p>
<p>The ability to enforce access control to non-public data is a critical capability for any traceability and transparency framework. But when the non-public data is distributed across thousands of different systems and needs to be accessed by authorised parties previously unknown to the holder of the data, traditional access control systems will not work. A decentralised data architecture also needs a decentralised access control mechanism.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="conceptual-model">Conceptual Model<a href="#conceptual-model" class="hash-link" aria-label="Direct link to Conceptual Model" title="Direct link to Conceptual Model">​</a></h2>
<p>The conceptual model for decentralised access control is relatively simple. All non-public credentials are encrypted with a unique key for each credential. Access to encrypted data then boils down to the mechanism by which authorised parties acquire decryption keys from a data holder that may not know the requestor. There are only two ways to prove rights to encrypted data.</p>
<ol>
<li><strong>You already have the key:</strong> The key is passed by the data holder to the data requestor by a separate channel. For example, to empower access to non-public data by the legitimate purchaser of the goods, the key could be located inside the packaging of the product.</li>
<li><strong>You have a right to the key:</strong> The key is made available to any data requestor that can prove their authorised role to the data holder via an authentication mechanism such as <a href="https://w3c-ccg.github.io/vp-request-spec/#did-authentication" target="_blank" rel="noopener noreferrer">DID Authentication</a>.</li>
</ol>
<p>Each uniquely identified item will have a unique encryption key. Therefore the keys provided by either of the above methods is usable only to decrypt the data about a single item. Similarly, for confidential data about products or facilities each will have it&#x27;s own unique encryption key.</p>
<p>Shared secrets and DID Authentication can be used in conjunction - for example a data holder may allow anonymous users to read non-public data with just a secret but may require both the secret (to prove item ownership) and DID Authentication (to confirm identity or role of the data requestor) to update item data.</p>
<p><img decoding="async" loading="lazy" alt="DAC Concept Model" src="/spec-untp/assets/images/DecentralisedAccessControl-22b4923c559a1f8d809848ec66909de4.png" width="1727" height="884" class="img_SS3x"></p>
<p>The decryption of previously issued and encrypted verifiable credentials is preferred over any dynamic service because</p>
<ul>
<li>The same encrypted UNTP credential is used for both the shared secret and DID authentication access models.</li>
<li>The access control is easily delegated to Identity Provider services and can continue to work even after the original issuer is no longer in business.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2>
<ul>
<li><strong>data holder</strong> is the party that created and maintains the information about a product or facility. Typically the product manufacturer or brand. The holder maintains both public and non-public data about the product or facility.</li>
<li><strong>data requestor</strong> is the party seeking access to product data held and maintained by the data holder.</li>
</ul>
<table><thead><tr><th>ID</th><th>Name</th><th>Requirement</th><th>Solution Mapping</th></tr></thead><tbody><tr><td>DAC-1</td><td>Anonymous access</td><td>As a data requestor that requires access to public product information, I should be able to access the information without any registration or identification - so that my privacy remains protected.</td><td><a href="#anonymous-public-access">Anonymous public access</a></td></tr><tr><td>DAC-2</td><td>Access by legitimate owner</td><td>As the legitimate owner or user of a specific serialised item, I should be able to access non-public information such as usage and maintenance history about my item and also be able to update post-sale life-cycle events without any need to register or identify myself to the data holder.</td><td><a href="#decryption-key-as-shared-secret">Anonymous access with secret</a></td></tr><tr><td>DAC-3</td><td>Access with verifiable role</td><td>As an authorised actor such as an accredited recycling plant or a government authority, I should be able to access and update non-public product information according to my authorised role even if I am otherwise unknown to the data holder.</td><td><a href="#decentralised-authentication-workflow">Decentralised authentication - role</a> <code>registrationScopeList</code> property</td></tr><tr><td>DAC-4</td><td>Access with verifiable identity</td><td>As a known and trusted data requestor party I should be able to prove my identity to the data holder and be granted access according to my permissions.</td><td><a href="#decentralised-authentication-workflow">Decentralised authentication - ID</a> <code>registeredId</code> property or any <a href="#authenticated-workflow">federated identity</a> protocol</td></tr><tr><td>DAC-5</td><td>Confidential supply</td><td>As a buyer who received credentials from my suppliers that provide confidence in the sustainability or quality of my upstream supply chain, I would like to pass on the sustainability or quality confidence to my customers without revealing the identity of my suppliers.</td><td><a href="#n-tier-supplier-visibility">N-tier supplier visibility</a></td></tr><tr><td>DAC-6</td><td>Discoverability</td><td>As any data requestor that queries available data about a product or facility from an identity resolver service, I would like to understand not only what public data is available but also what confidential data is available and what evidence I need to provide to access the confidential data.</td><td><a href="#confidential-data-discovery">Discoverability of encrypted content</a></td></tr><tr><td>DAC-7</td><td>Durability</td><td>As a data requestor seeking information about a product or facility, I want to access the necessary data according to my role even if the original manufacturer is no longer in business and whether or not the data is open or confidential.</td><td><a href="#durable-storage">Durable storage options</a></td></tr><tr><td>DAC-8</td><td>Limit impact</td><td>The confidential data access scope associated with a specific secret key should be limited to one product or item so that the consequence of un-authorised access to confidential data minimised</td><td><a href="#confidential-data-encryption">Encryption granularity</a></td></tr><tr><td>DAC-9</td><td>Small footprint</td><td>Where space is tight (eg under a wine bottle cap) then a small format secret key option is available.</td><td><a href="#small-footprint-codes">Secret key carrier</a></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="decentralised-access-control">Decentralised Access Control<a href="#decentralised-access-control" class="hash-link" aria-label="Direct link to Decentralised Access Control" title="Direct link to Decentralised Access Control">​</a></h2>
<p>The simple matrix below will assist the reader to understand the context of the access control guidance and when to use each access model.</p>
<table><thead><tr><th>Security context</th><th>no secret key</th><th>access with secret key</th></tr></thead><tbody><tr><td><strong>no authentication</strong></td><td>publicly discoverable data</td><td>item specific confidential data (eg service history) for the legitimate product owner</td></tr><tr><td><strong>authenticated &amp; authorised role</strong></td><td>authorised role access to confidential data about multiple items (eg a customs authority)</td><td>authorised role access to specific item data only (eg repair facility update to item history) or facility level confidential data.</td></tr></tbody></table>
<p>The following paragraphs provide guidance on how to secure data and grant access for various scenarios.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="anonymous-public-access">Anonymous public access<a href="#anonymous-public-access" class="hash-link" aria-label="Direct link to Anonymous public access" title="Direct link to Anonymous public access">​</a></h3>
<p>Anonymous access to public data is the default UNTP access pattern. It is already described in the <a href="/spec-untp/docs/specification/IdentityResolver">identity resolver</a> specification. From a security and resilience perspective, the only requirements are</p>
<ul>
<li>That data providers MUST NOT <strong>require</strong> personal identifying information from the data requestor as a condition of providing public information.</li>
<li>That data SHOULD remain available for the lifetime of the product, irrespective of whether the original manufacturer still exists.</li>
</ul>
<p>Both of these requirements are met using the <a href="/spec-untp/docs/specification/IdentityResolver">identity resolver</a> specification.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="item-identifier-as-shared-secret">Item identifier as shared secret<a href="#item-identifier-as-shared-secret" class="hash-link" aria-label="Direct link to Item identifier as shared secret" title="Direct link to Item identifier as shared secret">​</a></h3>
<p>Most item identifiers are relatively short numbers and are issued sequentially. So, for example, if <code>https://example.com/product/11223/serial/44556</code> is a known product and serial identifier then it is likely that the next serialised item ID could be <code>https://example.com/product/11223/serial/44557</code> or that the next product and serial in the range could be <code>https://example.com/product/11224/serial/00001</code>. When identifiers are easily guessed then information about the products is easily discovered even when the data requestor is not in possession of an actual product or serialised item.</p>
<p>However, if the product and serial numbers are issued as <strong>genuinely random</strong> large numbers then they become un-guessable and so any public (ie non-encrypted) data linked to the ID can be considered to be accessible only to the party in possession of the item. For example <code>https://example.com/product/11223/serial/44FDB2AFC91B898893CF36CB18863D26</code> is a product with a 32 character hexadecimal (128 bit) serial number and, provided the serial number is genuinely random, is computationally impractical to guess (1 billion guesses per second would still take many universe lifetimes).</p>
<p>Large random serial numbers are not common practice in industry and so are more likely to be considered for new rather than existing identifier schemes.  However, depending on the sensitivity of the data, shorter serial numbers such as the 20-character GS1 SGTIN (eg <code>https://example.com/01/0952400005919/21/419A2845FD8050A0DD56</code>) may provide adequate confidentiality provided they are issued randomly and not sequentially. For example, if serial number <code>419A2845FD8050A0DD56</code> were one of a million serialised items of product ID <code>0952400005919</code> then it would still take a few years to guess one matching serial number at 1 billion guesses per second.</p>
<p>When non-guessable large identifiers are used as a security mechanism to access non-encrypted sensitive data, then;</p>
<ul>
<li>the access mechanism is no different to <a href="#anonymous-public-access">anonymous public access</a>.</li>
<li>the identifiers MUST be <strong>genuinely random</strong> strings</li>
<li>the data MUST NOT be index-able by search engines.</li>
<li>the web repository that holds the data MUST NOT be searchable or expose lists of stored file.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="confidential-data-encryption">Confidential data encryption<a href="#confidential-data-encryption" class="hash-link" aria-label="Direct link to Confidential data encryption" title="Direct link to Confidential data encryption">​</a></h3>
<p>In many cases, relying on an un-guessable identifier is not possible or not sufficiently secure. In such cases, confidential data SHOULD be encrypted.</p>
<ul>
<li>Encryption MUST be done with a symmetric encryption algorithm such as <a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" target="_blank" rel="noopener noreferrer">AES</a> with a minimum of 128 bit key length.</li>
<li>Each distinct identified entity (i.e. facility, product, product batch, or serialised item with a unique IDR path) MUST use a separate and unique encryption key.</li>
<li>Where there are multiple different authorised roles that require access to different non-public data then a unique encryption key SHOULD be used for each role.</li>
<li>Where there are multiple non-public documents or credentials for a given unique entity and authorised role then they SHOULD be encrypted with the same key.</li>
</ul>
<p>These encryption requirements will result in an optimal granularity of encryption where one or more encrypted objects about a specific item and for access by a specific authorised role are all encrypted with the same key. But data for other roles or other items are not accessible with the given key.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="decryption-key-as-shared-secret">Decryption key as shared secret<a href="#decryption-key-as-shared-secret" class="hash-link" aria-label="Direct link to Decryption key as shared secret" title="Direct link to Decryption key as shared secret">​</a></h3>
<p>When confidential data about serialised items is encrypted then decryption keys SHOULD be included with the product and be optimised for easy use.</p>
<ul>
<li>The key SHOULD be presented as a QR code (either included with the product or, for bulk/raw materials, sent separately)</li>
<li>The code MUST resolve to an <a href="/spec-untp/docs/specification/IdentityResolver">Identity Resolver</a> query URL for the given item and with the symmetric key secret as a <code>key</code> parameter.</li>
<li>For cases with limited space such as a QR under a wine bottle cap, implementers MAY use a shorter URL that redirects to the same full identity resolver URL. The short URL SHOULD include 128 bit entropy so that it is sufficiently un-guessable.</li>
</ul>
<p>For example, for a 128 bit AES key in a query to a resolver about product ID 90664869327 that returns only encrypted link targets for anonymous access the resolver URL would be <code>https://resolver.product-register.com/01/90664869327?key=2b7e151628aed2a6abf7158809cf4f3c&amp;accessRole=untp%3AaccessRole%23Anonymous</code></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="small-footprint-codes">Small footprint codes<a href="#small-footprint-codes" class="hash-link" aria-label="Direct link to Small footprint codes" title="Direct link to Small footprint codes">​</a></h3>
<p>A 128 bit short redirect URL (in capitals because that creates smaller QR codes) can be used for cases where there is limited space for QR codes.  For example <code>HTTPS://REDIRECT.IO/E05778C659733E222758AC5179AE4611</code> could redirect to the same full URL <code>https://resolver.product-register.com/01/90664869327?key=2b7e151628aed2a6abf7158809cf4f3c&amp;accessRole=untp%3AaccessRole%23Anonymous</code></p>
<p>The full and short URLs would produce the following QR codes</p>
<table><thead><tr><th>Full resolver URL</th><th>Short redirect URL</th></tr></thead><tbody><tr><td><img decoding="async" loading="lazy" alt="Full" src="/spec-untp/assets/images/QR-DACcomplexURLwithKey-62e2741ddeec4f4abf99931ee31bb89d.png" width="500" height="500" class="img_SS3x"></td><td><img decoding="async" loading="lazy" alt="Short" src="/spec-untp/assets/images/QR-DACshortRedirectURL-3565340162ca11a8877af14ebfe85ebe.png" width="500" height="500" class="img_SS3x"></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="federated-authentication-workflow">Federated authentication workflow<a href="#federated-authentication-workflow" class="hash-link" aria-label="Direct link to Federated authentication workflow" title="Direct link to Federated authentication workflow">​</a></h3>
<p>In some cases access to (and update of) confidential data requires more than a shared secret that proves ownership of a serialised item but also requires evidence that the data requestor has an authorised role such as a competent authority, a recycling plant, or accredited auditor. When the data requestor is already known and registered with the data provider then a conventional &quot;sign-in-with&quot; federated authentication and authorisation mechanism such as <a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">OAuth 2.0</a> or <a href="https://openid.net/specs/openid-connect-core-1_0.html" target="_blank" rel="noopener noreferrer">OIDC</a> can be used. UNTP does not impose any restrictions on how a data provider authenticates and authorises access to protected data for users that are already known to the provider.</p>
<p>However, these kind of protocols require a relying-party relationship between the data provider that requires evidence of identity (eg a product passport issuer) and an identity provider that is the manager of the identity (eg a regulatory authority). Although this &quot;sign-in-with&quot; protocol is easy to implement with social network identity providers who deliberately place low barriers to relying parties, more authoritative registers such as national business registers, land registers, trademark registers, and so on are much more conservative. They mostly either don&#x27;t offer federated identity or even if they do, they are very restrictive about allowed relying parties.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="decentralised-authentication-workflow">Decentralised authentication workflow<a href="#decentralised-authentication-workflow" class="hash-link" aria-label="Direct link to Decentralised authentication workflow" title="Direct link to Decentralised authentication workflow">​</a></h3>
<p>Decentralised protocols provide a much simpler and more scalable authentication and authorisation approach for decentralised architectures that avoids any need for direct collaboration or dependencies between data providers and identity providers. For example, consider an access rule defined by a China based battery manufacturer that says &quot;to update battery status to <code>recycled</code> the requestor must be an accredited recycling establishment operating in a recognized jurisdiction (eg Australia). The workflow would be</p>
<ul>
<li>Australian recycling plant &quot;Sample Recyclers&quot; is accredited under the Australian Government Department of Environment <a href="https://www.dcceew.gov.au/environment/protection/waste/product-stewardship/product-schemes/voluntary-product-stewardship" target="_blank" rel="noopener noreferrer">stewardship scheme</a> and has obtained a <a href="/spec-untp/docs/specification/DigitalIdentityAnchor">Digital Identity Anchor</a> credential that links their DID to their government accreditation status.</li>
<li>Sample Recyclers receives a battery for recycling after 7 years of use that was originally made by &quot;China Batteries Sample Co&quot;.  It has a serialised item specific QR secret printed on the battery.</li>
<li>Sample Recyclers scans the QR (which includes presentation of the secret), receives a IDR link-set response that includes a UNTP standard link that defines an authenticated method and URL to add a recycled event to the battery history that requires evidence of accredited recycler status.</li>
<li>Sample Recyclers authenticates to the specified endpoint using DID-Authentication and presents their Australian Government issued DIA credential as a verifiable presentation.</li>
<li>China Sample Batteries Co verifies the presentation (which confirms DID control) and checks that the issuer (AU government) is on their trusted white-list, and then adds the recycled event to the item history.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="decentralised-authentication-protocol-options">Decentralised authentication protocol options.<a href="#decentralised-authentication-protocol-options" class="hash-link" aria-label="Direct link to Decentralised authentication protocol options." title="Direct link to Decentralised authentication protocol options.">​</a></h3>
<p>UNTP does not define any new protocols for decentralised authentication but rather supports the use of any of the existing standards listed below.</p>
<ul>
<li>DID Auth specification link : <a href="https://w3c-ccg.github.io/vp-request-spec/#did-authentication" target="_blank" rel="noopener noreferrer">https://w3c-ccg.github.io/vp-request-spec/#did-authentication</a></li>
<li>DID SIOP specification link : <a href="https://openid.net/specs/openid-connect-self-issued-v2-1_0.html" target="_blank" rel="noopener noreferrer">https://openid.net/specs/openid-connect-self-issued-v2-1_0.html</a></li>
<li>OID4VP specification link : <a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html" target="_blank" rel="noopener noreferrer">https://openid.net/specs/openid-4-verifiable-presentations-1_0.html</a></li>
</ul>
<table><thead><tr><th>Aspect</th><th>DID Authentication</th><th>DID-SIOP</th><th>OpenID4VP</th></tr></thead><tbody><tr><td><strong>Primary Purpose</strong></td><td>DID-based authentication with credential integration</td><td>Decentralized login using OIDC</td><td>Credential presentation in OIDC</td></tr><tr><td><strong>Workflow Complexity</strong></td><td>Moderate</td><td>Moderate</td><td>Complex</td></tr><tr><td><strong>OIDC Integration</strong></td><td>No</td><td>Yes</td><td>Yes</td></tr><tr><td><strong>Use Case Focus</strong></td><td>Proving DID control with credential attachment</td><td>Decentralized login</td><td>Claim verification and presentation</td></tr></tbody></table>
<p>The best choice will eventually be the specification(s) that demonstrate the widest market implementation. At this time, the UNTP recommendation is that implementers SHOULD use <strong>DID-Authentication</strong> but MAY also use either <strong>DID-SIOP</strong> or <strong>OpenID4VP</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="confidential-data-discovery">Confidential data discovery<a href="#confidential-data-discovery" class="hash-link" aria-label="Direct link to Confidential data discovery" title="Direct link to Confidential data discovery">​</a></h3>
<p>Identity resolvers MUST include information to indicate when a link target is encrypted. Resolvers MUST also provide information about how to POST update events, where appropriate.</p>
<ul>
<li>When a link target is encrypted, the <code>encryptionMethod</code> custom property MUST be included with a value drawn from the <a href="https://test.uncefact.org/vocabulary/untp/core/0/encryptionMethodCode" target="_blank" rel="noopener noreferrer">UNTP encryption method code list</a>.</li>
<li>When a link target is encrypted, the <code>accessRole</code> custom property MUST be included. The allowed values are an array of URIs that will be used to match against <code>registrationScopeList</code> in digital identity anchor credentials.</li>
<li>To indicate that access is allowed by any party that holds a secret key, the accessRole <code>untp:accessRole#Anonymous</code> MUST be included.</li>
<li>To indicate that the link target is an update service, the <code>method&quot;:&quot;POST&quot;</code> property is required, together with the <code>accessRole</code> needed for the update to be accepted.</li>
</ul>
<p>For example</p>
<div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;linkset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;anchor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://resolver.product-register.com/01/90664869327&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;https://vocabulary.uncefact.org/untp/linkType#digitalTraceabilityEvent&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;href&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://sample-credential-store.com/credentials/dte-90664869327.json&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Battery maintenance event&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;application/ld+json&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;lang&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;en&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;encryptionMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AES-128&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;accessRole&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;untp:accessRole#Anonymous&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;href&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.sample-credential-store.com/credentials&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Battery recycling event&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;application/ld+json&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;lang&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;en&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;method&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">&quot;accessRole&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;untp:accessRole#Recycler&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="implementation-considerations">Implementation Considerations<a href="#implementation-considerations" class="hash-link" aria-label="Direct link to Implementation Considerations" title="Direct link to Implementation Considerations">​</a></h2>
<p>To do - add guidance relevant to decentralised access control for common concerns and use-cases.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="linked-confidential-data">Linked confidential data<a href="#linked-confidential-data" class="hash-link" aria-label="Direct link to Linked confidential data" title="Direct link to Linked confidential data">​</a></h3>
<p>Data about a value chain comprises multiple credentials about products and facilities in a linked-data graph. Any of the credentials in the graph may be considered confidential and therefore be protected by an appropriate access control method. This will present challenges for verifiers such as supply chain traceability systems that need to traverse long graphs for their customers. A typical scenario might work as follows:</p>
<ul>
<li>A verifier encounters a serialised product ID and performs an IDR lookup which returns a link-set which contains:<!-- -->
<ul>
<li>link to an un-encrypted Digital Product Passport (DPP) which also contains an ID of the facility that manufactured the item</li>
<li>links to an encrypted Digital Traceability Event (DTE) with <code>&quot;encryptionMethod&quot;: &quot;AES-128&quot;</code> and <code>&quot;accessRole&quot;:[&quot;untp:accessRole#Anonymous&quot;]</code> properties.</li>
</ul>
</li>
<li>The verifier has the secret key for the given item and so decrypts the DTE to find that it is a transformation event that lists the identifiers and quantities of input products.<!-- -->
<ul>
<li>For some of the input product ID, the verifier is able to resolve link-sets from relevant IDRs and access public data (eg DPPs) about the input products.</li>
<li>The input product IDR process also returns encrypted links but they cannot be decrypted because the verifier has no access to the secret key for supplier input products.</li>
</ul>
</li>
<li>The verifier resolves the facility ID found in the DPP to a new link-set that contains links to both public and private data about the facility.<!-- -->
<ul>
<li>A link to a public digital facility record (DFR) includes precise geo-location information as well as some public sustainability claims.</li>
<li>A set of links to facility level conformity credentials (DCC) that are encrypted and have <code>&quot;accessRole&quot;:[&quot;untp:accessRole#Customer&quot;]</code> property. The verifier uses DID-Authentication to connect to the DCC end points and presents a Digital Identity Anchor (DIA) that proves the verifier ID which matches a facility customer list. Decryption keys are provided with a new link-set of the authorised customer.</li>
</ul>
</li>
</ul>
<p>In general, when a verifier hits a graph node that in encrypted and does not have access keys, then graph traversal cannot proceed beyond that node. Perhaps the most common scenario will be transformation events that reveal the input products (and suppliers) in a manufacturing process.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="n-tier-supplier-visibility">N-tier supplier visibility<a href="#n-tier-supplier-visibility" class="hash-link" aria-label="Direct link to N-tier supplier visibility" title="Direct link to N-tier supplier visibility">​</a></h3>
<p>To do - guidance about how to handle upstream product / supplier data that is considered sensitive. There are likely to be four &quot;levels&quot; of transparency that implementers may choose:</p>
<ul>
<li>Make it all public</li>
<li>Make your suppliers visible only to your direct customers (eg if the ID in your DIA matches the destination party ID in a transaction event)</li>
<li>Use a trusted third party to assess to your supply chain sustainability without revealing supplier identities - and issue a more public digital conformity credential that attests to qualities without identities.</li>
<li>Make it all private and never share anything.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="durable-storage">Durable storage<a href="#durable-storage" class="hash-link" aria-label="Direct link to Durable storage" title="Direct link to Durable storage">​</a></h3>
<p>To do - write some words about how to manage protected data even after the supplier / publisher is no longer in business.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/uncefact/spec-untp/edit/main/website/docs/specification/DecentralisedAccessControl.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/spec-untp/docs/specification/DigitalIdentityAnchor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Digital Identity Anchor</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/spec-untp/docs/specification/SustainabilityVocabularyCatalog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sustainability Vocabulary Catalog</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#conceptual-model" class="table-of-contents__link toc-highlight">Conceptual Model</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#decentralised-access-control" class="table-of-contents__link toc-highlight">Decentralised Access Control</a><ul><li><a href="#anonymous-public-access" class="table-of-contents__link toc-highlight">Anonymous public access</a></li><li><a href="#item-identifier-as-shared-secret" class="table-of-contents__link toc-highlight">Item identifier as shared secret</a></li><li><a href="#confidential-data-encryption" class="table-of-contents__link toc-highlight">Confidential data encryption</a></li><li><a href="#decryption-key-as-shared-secret" class="table-of-contents__link toc-highlight">Decryption key as shared secret</a></li><li><a href="#small-footprint-codes" class="table-of-contents__link toc-highlight">Small footprint codes</a></li><li><a href="#federated-authentication-workflow" class="table-of-contents__link toc-highlight">Federated authentication workflow</a></li><li><a href="#decentralised-authentication-workflow" class="table-of-contents__link toc-highlight">Decentralised authentication workflow</a></li><li><a href="#decentralised-authentication-protocol-options" class="table-of-contents__link toc-highlight">Decentralised authentication protocol options.</a></li><li><a href="#confidential-data-discovery" class="table-of-contents__link toc-highlight">Confidential data discovery</a></li></ul></li><li><a href="#implementation-considerations" class="table-of-contents__link toc-highlight">Implementation Considerations</a><ul><li><a href="#linked-confidential-data" class="table-of-contents__link toc-highlight">Linked confidential data</a></li><li><a href="#n-tier-supplier-visibility" class="table-of-contents__link toc-highlight">N-tier supplier visibility</a></li><li><a href="#durable-storage" class="table-of-contents__link toc-highlight">Durable storage</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="footer__container"><div class="footer__copyright">© United Nations Economic Commission for Europe</div><div class="footer__links"><a href="/spec-untp/un-transparency-protocol.pdf" class="footer__link-item" target="_blank">Print this specification as PDF</a><a class="footer__link-item" href="/spec-untp/terms">Terms and Conditions of Use</a><a class="footer__link-item" href="/spec-untp/privacy">Privacy Notice</a></div></div></footer><svg width="0" height="0" class="hidden"><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="github"><path d="M12.04 0a12.035 12.035 0 0 0-3.731 23.479h.28c.257.012.508-.074.703-.241.237-.207.37-.508.36-.822v-1.304a.491.491 0 0 0-.19-.331.501.501 0 0 0-.41-.1c-2.699.581-3.27-1.104-3.3-1.214a4.654 4.654 0 0 0-1.736-2.197l-.15-.11a.732.732 0 0 1 .381-.07c.508.076.94.41 1.143.883a3.009 3.009 0 0 0 4.012 1.163c.151-.067.262-.2.301-.361.04-.46.24-.893.562-1.224a.501.501 0 0 0 .15-.531.491.491 0 0 0-.421-.351c-2.377-.271-4.814-1.103-4.814-5.205a4.012 4.012 0 0 1 1.063-2.789.491.491 0 0 0 .09-.521 3.57 3.57 0 0 1 .01-2.417A5.586 5.586 0 0 1 8.871 6.89c.123.085.279.107.42.06.897-.239 1.821-.36 2.749-.36a10.34 10.34 0 0 1 2.758.36.461.461 0 0 0 .411-.06c.731-.593 1.6-.99 2.527-1.153a3.55 3.55 0 0 1 0 2.387.481.481 0 0 0 .1.521 4.012 4.012 0 0 1 1.054 2.758c0 4.112-2.437 4.935-4.824 5.196a.491.491 0 0 0-.421.35c-.06.189 0 .394.15.522.449.469.672 1.11.612 1.755v3.19c-.005.315.131.616.37.822.304.23.7.302 1.064.19A12.035 12.035 0 0 0 12.04 0Z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.057 33.057" id="search"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="1.5"><path d="M21.723 7.934a9.75 9.721-45 0 1-.02 13.769 9.75 9.721-45 0 1-13.769.02 9.75 9.721-45 0 1 .021-13.768 9.75 9.721-45 0 1 13.768-.02z"></path><path d="M10.481 20.942V25" transform="rotate(-45 17.925 7.425)"></path></g></symbol><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="slack"><g fill-rule="nonzero"><path d="M22.17 16.701h-7.34c-1.01 0-1.83-.815-1.83-1.82 0-1.005.82-1.82 1.83-1.82h7.34c1.01 0 1.83.815 1.83 1.82 0 1.005-.82 1.82-1.83 1.82ZM14.83 11.073c-1.01 0-1.83-.815-1.83-1.82V1.954c-.05-.68.286-1.332.871-1.687a1.839 1.839 0 0 1 1.908 0c.585.355.922 1.007.871 1.687v7.3a1.825 1.825 0 0 1-1.82 1.819ZM9.17 11.073H1.83c-1.01 0-1.83-.815-1.83-1.82 0-1.005.82-1.82 1.83-1.82h7.34c1.01 0 1.83.815 1.83 1.82 0 1.005-.82 1.82-1.83 1.82ZM9.17 24c-1.01 0-1.83-.815-1.83-1.82v-7.299c-.05-.68.286-1.332.871-1.687a1.839 1.839 0 0 1 1.908 0c.585.355.922 1.007.871 1.687v7.3A1.825 1.825 0 0 1 9.17 24ZM2.22 17.517A2.214 2.214 0 0 1 0 15.319a2.264 2.264 0 0 1 2.27-2.257h1.48c.405.005.73.333.73.735v1.472a2.254 2.254 0 0 1-2.26 2.248ZM10.27 4.59H8.78a2.254 2.254 0 0 1-2.26-2.248c-.003-.586.23-1.15.647-1.564A2.216 2.216 0 0 1 8.74.134 2.264 2.264 0 0 1 11 2.392v1.471c0 .401-.327.726-.73.726ZM15.26 24A2.264 2.264 0 0 1 13 21.743V20.27c0-.4.327-.726.73-.726h1.49a2.254 2.254 0 0 1 2.26 2.247c.003.587-.23 1.15-.647 1.564A2.216 2.216 0 0 1 15.26 24ZM21.73 11.073h-1.48a.738.738 0 0 1-.73-.736V8.865a2.254 2.254 0 0 1 2.26-2.247c1.222 0 2.214.982 2.22 2.198a2.264 2.264 0 0 1-2.27 2.257Z"></path></g></symbol><symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 64 64" id="mail"><path d="M58.0034485,8H5.9965506c-3.3136795,0-5.9999995,2.6862001-5.9999995,6v36c0,3.3137016,2.6863203,6,5.9999995,6h52.006897c3.3137016,0,6-2.6862984,6-6V14C64.0034485,10.6862001,61.3171501,8,58.0034485,8z M62.0034485,49.1108017L43.084549,30.1919994l18.9188995-12.0555992V49.1108017z M5.9965506,10h52.006897c2.2056007,0,4,1.7943001,4,4v1.7664003L34.4677505,33.3134003c-1.4902,0.9492989-3.3935013,0.9199982-4.8495998-0.0703011L1.9965508,14.4694996V14C1.9965508,11.7943001,3.7910507,10,5.9965506,10z M1.9965508,16.8852005L21.182251,29.9251003L1.9965508,49.1108017V16.8852005z M58.0034485,54H5.9965506c-1.6473999,0-3.0638998-1.0021019-3.6760998-2.4278984l20.5199013-20.5200024l5.6547985,3.843401c1.0859013,0.7383003,2.3418007,1.1083984,3.5995998,1.1083984c1.1953011,0,2.3925018-0.3339996,3.4463005-1.0048981l5.8423996-3.7230015l20.2961006,20.2961025C61.0673485,52.9978981,59.6508713,54,58.0034485,54z"></path></symbol></svg></div>
</body>
</html>